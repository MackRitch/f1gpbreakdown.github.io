<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:title" content="F1 GP Breakdown">
<meta property="og:description" content="Your pit wall for everything Formula 1‚Äîrace recaps, standings, strategy, and tech insight.">
<meta property="og:image" content="https://mackritch.github.io/f1gpbreakdown.github.io/logos/F1GPBLogoC.jpg">
<title>F1 GP Breakdown</title>
<style>
/* Card title alignment */
.card-title,
.card h2,
.card h3 {
display: flex;
align-items: center;
gap: 0.4rem;
}

/* The helmet icon next to titles */
.helmet-icon {
    width: 24px;
    height: 24px;
    flex: 0 0 20px;
    object-fit: contain;
    vertical-align: middle;
  width: 24px;
  height: 24px;
  flex: 0 0 24px;
  object-fit: contain;
  vertical-align: middle;
display: none !important;
}

/* Optional: tone down brightness when title is a link with hover color */
.card a:hover .helmet-icon {
filter: none;
}

/* If you want the icon on the right instead of left, swap prepend->append in JS and/or use order */
.helmet-icon {
  display: none !important;
}

</style>

<!-- Orbitron font from Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
<!-- Exo 2 font for Tech Talk card -->
<link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600&display=swap" rel="stylesheet">

<style>
/* ...your existing sitewide styles... */

/* existing .card styles here */

/* New styles for the Tech Talk card font & layout */
.tech-talk.card {
font-family: 'Exo 2', sans-serif !important;
}
.tech-talk.card h2,
.tech-talk.card h3 {
font-family: 'Orbitron', sans-serif;
}

.tech-talk h2 { 
margin: 0 0 .5rem; 
font-size: 1.5rem; 
font-weight: 600;
}
.tech-talk h3 {
margin : 1rem 0 .25rem;
font-size : 1.1rem;
font-weight : 600;
}
/* Circuit Overview */
.track-overview.tech-section {
  border-left: 6px solid #e10600; /* Ferrari red */
  background: linear-gradient(to right, #1c1c1c, #0b0b10);
}

.baku-layout-image.tech-section {
  border-left: 6px solid #ffcc00;
  background: #0b0b10;
}

.circuit-layout.tech-section img {
  width: 100%;
  max-width: none;
  margin-left: -0.75rem;
  margin-right: -0.75rem;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.6);
}


/* Technical & Tyre Notes */
.tech-tyres.tech-section {
  border-left: 6px solid #00bfff; /* Blue for engineering focus */
  background: #0b0b10;
}

/* Weather Watch */
.weather-watch.tech-section {
  border-left: 6px solid #8ef0a6; /* Green for weather */
  background: #0b0b10;
}

/* Sections to Spotlight */
.spotlight-sections.tech-section {
  border-left: 6px solid #ff2b2b; /* Bright red for corner analysis */
  background: #0b0b10;
}

/* ‚ñº New table layout rules ‚ñº */
/* Upcoming Races table: lock columns and prevent overlap */
.upcoming-races-card table {
table-layout: fixed;
width: 100%;
border-collapse: collapse;
}

.upcoming-races-card thead th,
.upcoming-races-card tbody td {
padding: 0.5rem;
text-align: left;
vertical-align: middle;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap;
}

/* Col 1: flag */
.upcoming-races-card thead th:nth-child(1),
.upcoming-races-card tbody td:nth-child(1) {
width: 3.5rem;
text-align: center;
}

/* Col 2: Grand Prix (flag + name) */
.upcoming-races-card thead th:nth-child(2),
.upcoming-races-card tbody td:nth-child(2) {
min-width: 260px;
}

/* Col 3: Date */
.upcoming-races-card thead th:nth-child(3),
.upcoming-races-card tbody td:nth-child(3) {
width: 180px;
}

/* Col 4: Location (flex column) */
.upcoming-races-card thead th:nth-child(4),
.upcoming-races-card tbody td:nth-child(4) {
min-width: 200px;
}

/* Col 5: Countdown */
.upcoming-races-card thead th:nth-child(5),
.upcoming-races-card tbody td:nth-child(5) {
width: 9.5rem;
text-align: left;
}

/* Flag image beside GP name */
.flag-icon {
  width: 20px;
  height: 14px;
  object-fit: cover;
  vertical-align: -2px;
  margin-right: 8px;
  border-radius: 2px;
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.15);
}
.card.driver-standings {
  position: relative;
  background-color: transparent;
  grid-column: 1 / -1;
}

#standings-wrapper {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 1.25rem;
  align-items: start;
}

.standings-column {
  position: relative;
  overflow: hidden;
  min-width: 0;
  width: 100%;
  background: #1c1c1c;
  border: 1px solid #2a2a2a;
  border-radius: 8px;
  padding: 1rem;
}

/* ‚Äî Watermark behind each column ‚Äî */
.standings-column::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 80%;
  height: 80%;
  transform: translate(-50%, -50%);
  background-image: url('logos/F1GPBLogoC.jpg');
  background-repeat: no-repeat;
  background-size: contain;
  opacity: 0.12;
  pointer-events: none;
  z-index: 0;
}

/* Ensure all column content sits on top */
.standings-column > * {
  position: relative;
  z-index: 1;
}

.standings-column h3 {
  margin-bottom: 0.5rem;
}

.standings-column ol {
  padding-left: 1.2rem;
}

@media (max-width: 700px) {
  #standings-wrapper {
    grid-template-columns: 1fr !important;
  }
}


v
/* Tech Talk: make the card full-width and stack inner sections */
.card.tech-talk {
  grid-column: 1 / -1;           /* span both columns of the main grid */
  display: grid;
  grid-template-columns: 1fr;     /* single column inside the card */
  gap: 1.25rem;                   /* spacing between sections */
  padding: 0;                     /* let sections own their padding */
  background: transparent;        /* we‚Äôll give each section its own panel */
  border: none;                   /* remove any default card border if present */
}

/* Full-width ‚Äúpanels‚Äù inside Tech Talk */
.card.tech-talk .tech-section {
  grid-column: 1 / -1;            /* ensure each section takes full width */
  background: #0b0b10;
  border: 1px solid #1f2130;
  border-radius: 10px;
  padding: 1rem 1.25rem;
}

/* Headings and spacing */
.card.tech-talk h2 {
  margin: 1rem 1.25rem 0.5rem;    /* create a title area above the first section */
  color: #e10600;
}
.card.tech-talk h3 {
  margin: 0 0 0.5rem;
}

/* Lists inside sections */
.card.tech-talk ul {
  margin: 0;
  padding-left: 1.1rem;
}
.card.tech-talk li + li {
  margin-top: 0.25rem;
}

/* Make any images truly full-width within their section */
.card.tech-talk .tech-section img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
}

/* Optional: a subtle divider feel between sections on small screens */
@media (max-width: 700px) {
  .card.tech-talk .tech-section {
    border-radius: 8px;
  }
}

}
.title-banner {
  width: 100%;
  background-color: #0b0b10;
  color: #ffffff;
  padding: 2rem;
  text-align: center;
  border-bottom: 1px solid #1f2130;
}

.title-banner h1 {
  margin: 0;
  font-size: 2.5rem;
  letter-spacing: 1px;
}

.title-banner p {
  margin-top: 0.5rem;
  font-size: 1.2rem;
  color: #cccccc;
}
/* ‚ñ≤ End new table layout rules ‚ñ≤ */
body {
background-color: #1c1c1c; /* sleek dark grey */
color: #ffffff;
font-family: 'Orbitron', sans-serif;
margin: 0;
padding: 0;
}
header {
text-align: center;
padding: 2rem 1rem;
border-bottom: 2px solid #e10600; /* F1 red accent */
}
h1 {
margin: 0;
font-size: 2.5rem;
letter-spacing: 2px;
}
main {
display: grid;
grid-template-columns: 2fr 1fr;
grid-auto-rows: minmax(200px, auto);
gap: 1.5rem;
padding: 2rem;
}

/* Layout: two columns (fixed 350px sidebar + flexible main) */
/* Layout: two columns (fixed 350px sidebar + flexible main) */
main {
display: grid;
grid-template-columns: 350px 1fr;
grid-auto-rows: minmax(200px, auto);
gap: 1.5rem;
padding: 2rem;
}

/* Make the first card span both columns as the hero */
main > .card:first-child {
grid-column: 1 / -1;
}

}
/* Card body font reset */
.card p,
.card li,
.card ul,
.card ol,
.card table,
.card th,
.card td {
font-family: 'Roboto', sans-serif;
font-weight: 400;
}

/* The Paddock: read left-to-right like a book */
.card.paddock {
  grid-column: 1 / -1;
  max-width: none;
  justify-self: stretch;
}

.card.paddock h1,
.card.paddock h2,
.card.paddock h3 {
column-span: all;
}

/* Headings stay in Orbitron */
.card h1,
.card h2,
.card h3 {
font-family: 'Orbitron', sans-serif;
}
/* Ensure overlay layers correctly */
.card {
position: relative;
padding: 1rem;
max-width: 100%;
font-family: 'Roboto', sans-serif;
}

/* Watermark overlay */
.card::before {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 80%;
height: 80%;
transform: translate(-50%, -50%);
background-image: url('logos/F1GPBLogoC.jpg');
background-size: contain;
background-repeat: no-repeat;
background-position: center;
opacity: 0.18;
pointer-events: none;
z-index: 0;
}

/* Keep actual card content above the watermark */
.card > * {
position: relative;
z-index: 1;
}

.card:hover {
transform: translateY(-5px);
box-shadow: 0 6px 15px rgba(0,0,0,0.8);
}
.card h2 {
color: #e10600;
margin-bottom: 1rem;
font-size: 1.5rem;
}

/* Racing stripe with swoosh + motion blur */
.title-with-stripe {
position: relative;
display: inline-block;
padding: 0 1rem;
font-size: 2.5rem;
color: #ffffff;
}

.title-with-stripe::after {
content: "";
position: absolute;
top: 50%;
left: -5%;
width: 110%;
height: 8px;
background: linear-gradient(
135deg,
#ff2b2b 0%,
#e10600 40%,
#990000 100%
);
transform: translateY(-50%) skewX(-20deg);
border-radius: 4px;
z-index: -1;

/* Motion blur illusion */
filter: blur(1.5px);
box-shadow: 0 0 10px rgba(225, 6, 0, 0.6),
0 0 20px rgba(225, 6, 0, 0.4);
}
/* Generic card styling so the text stays readable */
.card {
position: relative;
background-repeat: no-repeat;
background-position: center;
background-size: contain; /* or 'cover' for full fill */
background-blend-mode: lighten; /* helps with subtle overlays */
}
.top-row {
  display: flex;
  justify-content: flex-start;
  margin-bottom: 20px;
}

.bottom-row {
  display: flex;
  gap: 20px;
  margin-top: 20px;
}

.card {
  width: 100%;
  max-width: none;
  margin: 20px 0;
  padding: 20px;
  box-sizing: border-box;
}


/* Race Recap card watermark */
.card:nth-of-type(1) {
  background: none;
}

/* Driver Standings card watermark */
    .card.standings {
  background-image: url('images/helmet-watermark.svg');
}

/* Tech Bites card watermark */
.card.tech-talk {
  background-image: url('images/tech-schematic.png');
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.25rem;
  padding: 0;
  background-color: transparent;
  border: none;
}

.card.race-recap {
  grid-column: 1 / -1;

}.card.paddock {
  grid-column: 1 / -1;
  max-width: none;
  justify-self: stretch;
}


/* Flag icon styling for race tables */
.flag-icon {
width: 20px;
height: 14px;
object-fit: cover;
vertical-align: -2px;
margin-right: 8px;
border-radius: 2px;
box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.15);
}
body {
  background-color: #1c1c1c; /* sleek dark grey */
  color: #ffffff;
  font-family: 'Orbitron', sans-serif;
  margin: 0;
  padding: 0;
}
</style>
</head>
<body>

<div class="title-banner">
  <h1>üèéÔ∏è F1 GP Breakdown</h1>
  <p>Your pit wall for everything Formula 1 ‚Äî race recaps, standings, strategy, and tech insight from the heart of the paddock.</p>
</div>
<main>

 <div class="card">
  <h2 class="card-title">
    <img src="logos/helmet-icon.png" alt="Helmet Icon" class="helmet-icon">
    Driver Spotlight: Lando Norris
  </h2>
  <p><strong>Team:</strong> McLaren-Mercedes</p>
  <p><strong>Nationality:</strong> British</p>
  <p><strong>Podiums:</strong> 39</p>
  <p><strong>Championships:</strong> 0</p>
  <p><strong>Fun Fact:</strong> Lando became the youngest karting world champion at age 14‚Äîbeating a record previously held by Lewis Hamilton.</p>
  <img src="images/drivers/lando-norris.jpg" alt="Lando Norris" style="width:100%; border-radius:8px; margin-top:10px;">
</div>

<div class="card upcoming-races-card">
  <h2 id="upcoming-races-title">Upcoming Races</h2>
  <div class="races-table-wrap">
    <table class="races-table" role="table" aria-describedby="upcoming-races-title">
      <colgroup>
        <col style="width: 3.5rem" />
        <col />
        <col style="width: 12.5rem" />
        <col style="width: 12.5rem" />
        <col style="width: 10.5rem" />
      </colgroup>
      <thead>
        <tr role="row">
          <th scope="col" class="col-flag">Flag</th>
          <th scope="col" class="col-gp">Grand Prix</th>
          <th scope="col" class="col-date">Date</th>
          <th scope="col" class="col-loc">Location</th>
          <th scope="col" class="col-ctd">Countdown</th>
        </tr>
      </thead>
      <tbody id="races-body">
        <!-- Rows injected by JS -->
      </tbody>
    </table>
  </div>
</div>

    <div class="card race-recap">
  <h2>Race Recap</h2>
  <p><em>Pending results of the Azerbaijan GP</em></p>
</div>

<div class="card driver-standings">
  <div id="standings-wrapper">
    <div class="standings-column">
    <h3>Driver Standings (1‚Äì10)</h3>
    <ol>
      <li>Oscar Piastri ‚Äî 284 pts</li>
      <li>Lando Norris ‚Äî 275 pts</li>
      <li>Max Verstappen ‚Äî 187 pts</li>
      <li>George Russell ‚Äî 172 pts</li>
      <li>Charles Leclerc ‚Äî 151 pts</li>
      <li>Lewis Hamilton ‚Äî 109 pts</li>
      <li>Kimi Antonelli ‚Äî 64 pts</li>
      <li>Alex Albon ‚Äî 54 pts</li>
      <li>Nico H√ºlkenberg ‚Äî 37 pts</li>
      <li>Esteban Ocon ‚Äî 27 pts</li>
    </ol>
  </div>
  <div class="standings-column">
    <h3>Driver Standings (11‚Äì20)</h3>
    <ol start="11">
      <li>Yuki Tsunoda ‚Äî 24 pts</li>
      <li>Fernando Alonso ‚Äî 22 pts</li>
      <li>Logan Sargeant ‚Äî 18 pts</li>
      <li>Valtteri Bottas ‚Äî 16 pts</li>
      <li>Liam Lawson ‚Äî 12 pts</li>
      <li>Oliver Bearman ‚Äî 10 pts</li>
      <li>Kevin Magnussen ‚Äî 8 pts</li>
      <li>Guanyu Zhou ‚Äî 6 pts</li>
      <li>Daniel Ricciardo ‚Äî 4 pts</li>
      <li>Jack Doohan ‚Äî 2 pts</li>
    </ol>
  </div>
</div>


 <style>
/* ========== Upcoming Races: Styles ========== */
.upcoming-races-card {
  width: 100%;
  max-width: none;
  grid-column: 1 / -1;
}

.upcoming-races-card h2 {
font-family: 'Orbitron', system-ui, sans-serif;
font-size: 1.25rem;
margin: 0 0 0.75rem;
letter-spacing: 0.02em;
}

.races-table-wrap {
overflow-x: auto;
-webkit-overflow-scrolling: touch;
}

.races-table {
width: 100%;
border-collapse: collapse;
table-layout: fixed; /* Prevents column drift/migration */
background: #0b0b10;
color: #e8e8ef;
border: 1px solid #1f2130;
border-radius: 8px;
overflow: hidden;
}

.races-table thead th {
text-align: left;
font-weight: 700;
font-size: 0.85rem;
padding: 0.65rem 0.75rem;
background: #141625;
border-bottom: 1px solid #24273a;
white-space: nowrap;
}

.races-table tbody td {
padding: 0.65rem 0.75rem;
border-bottom: 1px solid #1b1e2e;
vertical-align: middle;
font-size: 0.92rem;
overflow: hidden;
text-overflow: ellipsis;
white-space: nowrap; /* Keeps GP name/date from wrapping into other columns */
}

.races-table tbody tr:last-child td {
border-bottom: none;
}

.col-flag,
.td-flag {
text-align: center;
}

.td-flag .flag {
font-size: 1.25rem;
display: inline-block;
width: 1.75rem;
}

.td-gp .gp-name {
font-weight: 600;
letter-spacing: 0.01em;
}

.td-date time {
color: #cfd3ff;
font-variant-numeric: tabular-nums;
}

.td-loc {
color: #c5c8d4;
}

.td-ctd .countdown {
font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
font-weight: 600;
color: #8ef0a6;
background: #11331c;
border: 1px solid #1d5a31;
padding: 0.2rem 0.45rem;
border-radius: 6px;
display: inline-block;
min-width: 7.5rem;
text-align: center;
}

/* Hover state */
.races-table tbody tr:hover td {
background: #101324;
}

/* Responsive: stack columns on very narrow screens */
@media (max-width: 600px) {
.races-table thead {
display: none;
}
.races-table,
.races-table tbody,
.races-table tr,
.races-table td {
display: block;
width: 100%;
}
.races-table tbody tr {
border-bottom: 1px solid #1b1e2e;
padding: 0.5rem 0.25rem;
}
.races-table tbody td {
border: none;
white-space: normal; /* allow wrapping within the cell on mobile */
padding: 0.35rem 0.5rem;
}
.td-flag { order: 1; }
.td-gp { order: 2; }
.td-date { order: 3; }
.td-loc { order: 4; }
.td-ctd { order: 5; margin-top: 0.25rem; }
}
  .upcoming-races-card {
  background: #0b0b10;
  border-radius: 8px;
  padding: 1rem 1.25rem;
  border: 1px solid #1f2130;
  position: relative;
  z-index: 1;
  overflow: hidden;
  width: 100%;
  max-width: none;
}


.races-table {
  background: transparent;
  border: none;
  border-radius: 0;
}
/* Fix card styling and remove visual artifact */
.upcoming-races-card {
  background: #0b0b10;
  border-radius: 8px;
  padding: 1rem 1.25rem;
  border: 1px solid #1f2130;
  position: relative;
  z-index: 1;
  overflow: hidden;
}

/* Remove any pseudo-elements that might be causing watermark */
.upcoming-races-card::before,
.upcoming-races-card::after {
  content: none !important;
  display: none !important;
}

/* Table styling to match card and nest cleanly */
.races-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
  background: transparent;
  color: #e8e8ef;
  border: none;
  border-radius: 0;
}

/* Optional: subtle padding for scroll container */
.races-table-wrap {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding-bottom: 0.5rem;
}

</style>

<script>
// ========== Upcoming Races: Data ==========
const UPCOMING_RACES = [
  {
    flag: "azerbaijan.png", // Add this image to your assets later
    name: "Azerbaijan Grand Prix",
    date: "2025-09-21T15:00:00+04:00", // Local time in Baku
    location: "Baku, Azerbaijan"
  },
  {
    flag: "singapore.png",
    name: "Singapore Grand Prix",
    date: "2025-10-05T20:00:00+08:00",
    location: "Marina Bay, Singapore"
  },
  {
    flag: "usa.png",
    name: "United States Grand Prix",
    date: "2025-10-19T15:00:00-05:00",
    location: "Austin, Texas"
  }
];

function updateRaceTable() {
  const tbody = document.getElementById("races-body");
  tbody.innerHTML = "";

  UPCOMING_RACES.forEach(race => {
    const raceDate = new Date(race.date);
    const now = new Date();
    const timeDiff = raceDate - now;

    const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeDiff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((timeDiff / (1000 * 60)) % 60);

    const countdown = timeDiff > 0
      ? `${days}d ${hours}h ${minutes}m`
      : "Race in progress or completed";

    const row = document.createElement("tr");
    row.innerHTML = `
      <td><img src="flags/${race.flag}" alt="" class="flag-icon" /></td>
      <td>${race.name}</td>
      <td>${raceDate.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' })}</td>
      <td>${race.location}</td>
      <td>${countdown}</td>
    `;
    tbody.appendChild(row);
  });
}

// Refresh countdown every minute
setInterval(updateRaceTable, 60000);
updateRaceTable();



// ========== Upcoming Races: Utilities ==========
function formatLocalDate(iso) {
const d = new Date(iso);
const fmt = new Intl.DateTimeFormat(undefined, {
weekday: "short",
year: "numeric",
month: "short",
day: "2-digit",
hour: "2-digit",
minute: "2-digit",
hour12: false
});
return fmt.format(d);
}

function diffParts(toISO) {
const now = new Date();
const target = new Date(toISO);
let diff = target - now;
if (diff <= 0) return { over: true, d: 0, h: 0, m: 0, s: 0 };
const d = Math.floor(diff / (24 * 3600 * 1000));
diff -= d * 24 * 3600 * 1000;
const h = Math.floor(diff / (3600 * 1000));
diff -= h * 3600 * 1000;
const m = Math.floor(diff / (60 * 1000));
diff -= m * 60 * 1000;
const s = Math.floor(diff / 1000);
return { over: false, d, h, m, s };
}

function formatCountdown(parts) {
const pad = (n) => String(n).padStart(2, "0");
return `${parts.d}d ${pad(parts.h)}h ${pad(parts.m)}m`;
}

// ========== Upcoming Races: Render ==========
function renderRaces() {
  const tbody = document.getElementById("races-body");
  tbody.innerHTML = "";

  UPCOMING_RACES.forEach((race) => {
    const tr = document.createElement("tr");
    tr.setAttribute("role", "row");

    // Flag column
    const tdFlag = document.createElement("td");
    tdFlag.className = "td-flag";
    tdFlag.innerHTML = `<img class="flag-icon" src="${race.flag}" alt="${race.location} flag" width="20" height="14" loading="lazy">`;
    tr.appendChild(tdFlag);

    // Grand Prix name
    const tdGP = document.createElement("td");
    tdGP.className = "td-gp";
    tdGP.innerHTML = `<span class="gp-name">${race.grandPrix}</span>`;
    tr.appendChild(tdGP);

    // Date
    const tdDate = document.createElement("td");
    tdDate.className = "td-date";
    tdDate.innerHTML = `<time datetime="${race.dateISO}">${formatLocalDate(race.dateISO)}</time>`;
    tr.appendChild(tdDate);

    // Location
    const tdLoc = document.createElement("td");
    tdLoc.className = "td-loc";
    tdLoc.textContent = race.location;
    tr.appendChild(tdLoc);

    // Countdown
    const tdCtd = document.createElement("td");
    tdCtd.className = "td-ctd";
    tdCtd.innerHTML = `<span class="countdown" data-countdown="${race.dateISO}" aria-label="Countdown to ${race.grandPrix}"></span>`;
    tr.appendChild(tdCtd);

    tbody.appendChild(tr);
  });
}


function tickCountdowns() {
const nodes = document.querySelectorAll('[data-countdown]');
nodes.forEach((node) => {
const iso = node.getAttribute('data-countdown');
const parts = diffParts(iso);
node.textContent = parts.over ? "On track" : formatCountdown(parts);
});
}

// Initialize on DOM ready
(function initUpcomingRaces() {
if (document.readyState === "loading") {
document.addEventListener("DOMContentLoaded", () => {
renderRaces();
tickCountdowns();
// Update every 30s to avoid layout thrash
setInterval(tickCountdowns, 30000);
});
} else {
renderRaces();
tickCountdowns();
setInterval(tickCountdowns, 30000);
}
})();
</script>
<!-- ===== Upcoming Races: END ===== -->
</div>

    <div class="card paddock">
  <h2 class="card-title">
    <img src="logos/helmet-icon.png" alt="Helmet Icon" class="helmet-icon">
    The Paddock: 2026 Rule Shakeup & Strategic Tensions
  </h2>
  
  <p><strong>2026 Regulation Overhaul Incoming</strong><br>
    The FIA‚Äôs upcoming 2026 rules will radically reshape car design, power units, and race dynamics. Turbo hybrids remain, but electric deployment will play a bigger role‚Äîpotentially turning energy management into a strategic chess match.
  </p>
  
  <ul>
    <li>‚ö° <strong>Electric Emphasis:</strong> Drivers may need to manually manage energy deployment, adding complexity to racecraft</li>
    <li>üß™ <strong>Performance Spread:</strong> Simulations show up to 4-second lap time gaps between teams‚Äîraising fears of 107% rule disqualifications</li>
    <li>üß¢ <strong>Cost Cap Tension:</strong> Struggling engine manufacturers can apply for exemptions to spend above the cap if deemed uncompetitive</li>
  </ul>

<p><strong>What to Watch:</strong></p>
  <ul>
    <li>Can McLaren seal the constructors‚Äô title before Baku?</li>
    <li>Will the 2026 regs create a new pecking order‚Äîor chaos?</li>
    <li>How will teams balance innovation with reliability under tighter budget constraints?</li>
  </ul>
</div>

<section id="tech-talk-azerbaijan-gp" class="tech-talk card" aria-labelledby="tech-talk-title">
  <h2 id="tech-talk-title">Tech Talk: Azerbaijan Grand Prix ‚Äî Baku</h2>

  <div class="track-overview tech-section">
    <h3>Circuit overview</h3>
    <ul>
      <li><strong>Name:</strong> Baku City Circuit</li>
      <li><strong>Length:</strong> 6.003 km</li>
      <li><strong>Laps:</strong> 51 (race distance ~306.05 km)</li>
      <li><strong>First F1 GP:</strong> 2016</li>
      <li><strong>Character:</strong> Street circuit with ultra-long straights, tight corners, and unforgiving walls. High-speed + high-risk.</li>
    </ul>
  </div>

<div class="circuit-layout tech-section">
<img src="logos/bakucircuit.webp" alt="Baku circuit layout">
    <p style="font-size: 0.9em; color: #ccc; text-align: center; margin-top: 0.5rem;">
      Baku blends Monaco precision with Monza velocity. The 2.2 km flat-out stretch into Turn 1 is the longest full-throttle zone in F1.
    </p>
  </div>

  <div class="tech-tyres tech-section">
    <h3>Technical and tyre notes</h3>
    <ul>
      <li><strong>Downforce:</strong> Medium-low setup; teams trim wings for straight-line speed but risk instability in the castle section.</li>
      <li><strong>Tyres:</strong> Pirelli C3‚ÄìC5; rear degradation is a concern due to traction zones and surface evolution.</li>
      <li><strong>Strategy:</strong> One-stop likely, but Safety Cars are frequent‚Äîespecially around Turns 2 and 15.</li>
      <li><strong>Power unit & cooling:</strong> High cooling demand due to long straights and stop-start sections; brake wear is moderate but spikes in traffic.</li>
    </ul>
  </div>

  <div class="weather-watch tech-section">
    <h3>Weather watch</h3>
    <ul>
      <li><strong>Temperatures:</strong> Low 30s ¬∞C expected; track temp swings with cloud cover and wind off the Caspian.</li>
      <li><strong>Rain risk:</strong> Minimal, but gusty winds can affect braking zones and DRS stability.</li>
    </ul>
  </div>

  <div class="spotlight-sections tech-section">
    <h3>Sections to spotlight</h3>
    <ul>
      <li><strong>Turn 1:</strong> Heavy braking after the longest straight; prime overtaking zone but easy to overshoot.</li>
      <li><strong>Castle section (Turns 8‚Äì12):</strong> Narrowest part of the calendar; precision and throttle modulation are critical.</li>
      <li><strong>Turn 15:</strong> Off-camber left-hander; frequent lockups and wall contact under pressure.</li>
      <li><strong>Final sector:</strong> Flat-out from Turn 16 to the line; DRS drag race with slipstream battles into Turn 1.</li>
    </ul>
  </div>
</section>



<!-- Helmet icon auto-injection -->
<script>
(function(){
function addHelmetIconToTitle(titleEl) {
var target = titleEl.firstElementChild && titleEl.firstElementChild.tagName === 'A'
? titleEl.firstElementChild
: titleEl;
if (target.querySelector('.helmet-icon')) return;
var img = document.createElement('img');
img.className = 'helmet-icon';
img.src = 'logos/f1merchelmet.webp';
img.alt = '';
img.setAttribute('aria-hidden', 'true');
target.insertBefore(img, target.firstChild);
}
function initHelmetIcons(root) {
var titles = (root || document).querySelectorAll('.card h2, .card h3, .card .card-title');
titles.forEach(addHelmetIconToTitle);
}
if (document.readyState === 'loading') {
document.addEventListener('DOMContentLoaded', function(){ initHelmetIcons(); });
} else {
initHelmetIcons();
}
var mo = new MutationObserver(function(mutations) {
mutations.forEach(function(m) {
m.addedNodes.forEach(function(node) {
if (!(node instanceof Element)) return;
if (node.matches && (node.matches('.card h2, .card h3, .card .card-title') || node.matches('.card'))) {
initHelmetIcons(node);
} else {
var within = node.querySelectorAll && node.querySelectorAll('.card h2, .card h3, .card .card-title');
if (within && within.length) initHelmetIcons(node);
}
});
});
});
mo.observe(document.body, { childList: true, subtree: true });
})();
</script>
</body>
</html>



</body>
</html>
